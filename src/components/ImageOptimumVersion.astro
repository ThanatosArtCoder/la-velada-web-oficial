---
const {src, ...props} = Astro.props;

const lastIndexDot = src.lastIndexOf(".");
const srcWithoutFormat  = src.slice(0, lastIndexDot);
---

<picture {...props}>
  <source srcset={`${srcWithoutFormat}.avif`} type="image/avif" />
  <source srcset={`${srcWithoutFormat}.webp`} type="image/webp" />
  <img src={`${srcWithoutFormat}.jpg`} {...props} />
</picture>